module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=110)}({0:function(e,t){e.exports=require("prosemirror-model")},1:function(e,t){e.exports=require("prosemirror-menu")},110:function(e,t,n){"use strict";n.r(t);var r=n(25),o=n.n(r),i=n(0),a=n(13),s=n(6),l=n(38),c=n(14),p=n(15),u=n(9),f=n(4);function d(e){var t,n,r=f.smartQuotes.concat(f.ellipsis,f.emDash);return(t=e.nodes.blockquote)&&r.push((n=t,Object(f.wrappingInputRule)(/^\s*>\s$/,n))),(t=e.nodes.ordered_list)&&r.push(function(e){return Object(f.wrappingInputRule)(/^(\d+)\.\s$/,e,(function(e){return{order:+e[1]}}),(function(e,t){return t.childCount+t.attrs.order===+e[1]}))}(t)),(t=e.nodes.bullet_list)&&r.push(function(e){return Object(f.wrappingInputRule)(/^\s*([-+*])\s$/,e)}(t)),(t=e.nodes.code_block)&&r.push(function(e){return Object(f.textblockTypeInputRule)(/^```$/,e)}(t)),(t=e.nodes.heading)&&r.push(function(e,t){return Object(f.textblockTypeInputRule)(new RegExp("^(#{1,"+t+"})\\s$"),e,(function(e){return{level:e[1].length}}))}(t,6)),Object(f.inputRules)({rules:r})}var h=n(1),m=n(2);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var o=document.createElement("span");o.style.position="relative",o.style.width=t.attrs.width,o.style.maxWidth="100%",o.style.display="inline-block",o.style.lineHeight="0";var i=document.createElement("img");i.setAttribute("src",t.attrs.src),i.style.width="100%",i.title=t.attrs.title||"",i.alt=t.attrs.alt||"";var a=document.createElement("span");a.style.position="absolute",a.style.bottom="0px",a.style.right="0px",a.style.width="10px",a.style.height="10px",a.style.border="3px solid black",a.style.borderTop="none",a.style.borderLeft="none",a.style.cursor="nwse-resize",a.onmousedown=function(e){e.preventDefault();var i=e.pageX,a=o.getBoundingClientRect().width,s=function(e){var t=e.pageX-i;o.style.width=a+t+"px"};document.addEventListener("mousemove",s),document.addEventListener("mouseup",(function e(i){i.preventDefault(),document.removeEventListener("mousemove",s),document.removeEventListener("mouseup",e);var a=n.state.tr.setNodeMarkup(r(),null,{src:t.attrs.src,width:o.style.width});n.dispatch(a)}))},o.appendChild(a),o.appendChild(i),this.dom=o,this.img=i,this.handle=a}var t,n,r;return t=e,(n=[{key:"selectNode",value:function(){this.img.classList.add("ProseMirror-selectednode"),this.handle.style.display=""}},{key:"deselectNode",value:function(){this.img.classList.remove("ProseMirror-selectednode"),this.handle.style.display="none"}},{key:"destroy",value:function(){this.handle.onmousedown=null}}])&&g(t.prototype,n),r&&g(t,r),e}();var x=["u",0],M=["s",0],k={underline:{parseDOM:[{tag:"u"},{style:"text-decoration=underline"}],toDOM:function(){return x}},strikethrough:{parseDOM:[{tag:"s"},{style:"text-decoration=line-through"}],toDOM:function(){return M}},font_size:{attrs:{fontSize:{default:""}},parseDOM:[{style:"font-size",getAttrs:function(e){return e?{fontSize:e}:""}}],toDOM:function(e){return["span",{style:"font-size: ".concat(e.attrs.fontSize)},0]}},font_family:{attrs:{fontFamily:{default:""}},parseDOM:[{style:"font-family",getAttrs:function(e){return e?{fontFamily:e}:""}}],toDOM:function(e){return["span",{style:"font-family: ".concat(e.attrs.fontFamily)},0]}},font_color:{attrs:{fontColor:{default:""}},parseDOM:[{style:"color",getAttrs:function(e){return e?{fontColor:e}:""}}],toDOM:function(e){return["span",{style:"color: ".concat(e.attrs.fontColor)},0]}},bg_color:{attrs:{bgColor:{default:""}},parseDOM:[{style:"background-color",getAttrs:function(e){return e?{bgColor:e}:""}}],toDOM:function(e){return["span",{style:"background-color: ".concat(e.attrs.bgColor)},0]}}};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=["blockquote",0],C=["hr"],j=["pre",["code",0]],_=["br"],P={doc:{content:"block+"},paragraph:{content:"inline*",group:"block",attrs:{alignment:{default:""}},parseDOM:[{tag:"p",priority:51,getAttrs:function(e){return{alignment:e.style.textAlign||""}}}],toDOM:function(e){var t=e.attrs.alignment;return t?["p",{style:"text-align:".concat(t)},0]:["p",0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return z}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return C}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return j}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},width:{default:"auto"},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{priority:51,tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt"),width:e.getAttribute("width")}}}],toDOM:function(e){var t={style:"width: ".concat(e.attrs.width)};return["img",b(b({},e.attrs),t)]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return _}}},E=["em",0],A=["strong",0],T=["code",0],N=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:function(e){var t=e.attrs;return["a",{href:t.href,title:t.title},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return E}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!==e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return A}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return T}}},k),I=new i.Schema({nodes:P,marks:N});function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(e){return{width:20,height:20,path:e}},H=R(R({},h.icons),{},{join:F("M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"),lift:F("M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"),undo:F("M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"),redo:F("M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"),em:F("M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"),link:F("M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"),bulletList:F("M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"),orderedList:F("M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"),blockquote:F("M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"),strong:F("M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"),alignLeft:F("M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"),alignCenter:F("M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"),alignRight:F("M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"),alignJustify:F("M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"),image:F("M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"),table:F("M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"),underline:F("M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"),strikethrough:F("M7 16.4c-.8-.4-1.5-.9-2.2-1.5a.6.6 0 0 1-.2-.5l.3-.6h1c1 1.2 2.1 1.7 3.7 1.7 1 0 1.8-.3 2.3-.6.6-.4.6-1.2.6-1.3.2-1.2-.9-2.1-.9-2.1h2.1c.3.7.4 1.2.4 1.7v.8l-.6 1.2c-.6.8-1.1 1-1.6 1.2a6 6 0 0 1-2.4.6c-1 0-1.8-.3-2.5-.6zM6.8 9L6 8.3c-.4-.5-.5-.8-.5-1.6 0-.7.1-1.3.5-1.8.4-.6 1-1 1.6-1.3a6.3 6.3 0 0 1 4.7 0 4 4 0 0 1 1.7 1l.3.7c0 .1.2.4-.2.7-.4.2-.9.1-1 0a3 3 0 0 0-1.2-1c-.4-.2-1-.3-2-.4-.7 0-1.4.2-2 .6-.8.6-1 .8-1 1.5 0 .8.5 1 1.2 1.5.6.4 1.1.7 1.9 1H6.8zM3 10.5V9h14v1.5z"),fontSize:F("M9.816 11.5L7.038 4.785 4.261 11.5h5.555zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13zm7.55 2.279l.779-.779.707.707-2.265 2.265-2.193-2.265.707-.707.765.765V4.825c0-.042 0-.083.002-.123l-.77.77-.707-.707L17.207 2.5l2.265 2.265-.707.707-.782-.782c.002.043.003.089.003.135v10.454z"),fontFamily:F("M11.03 3h6.149a.75.75 0 1 1 0 1.5h-5.514L11.03 3zm1.27 3h4.879a.75.75 0 1 1 0 1.5h-4.244L12.3 6zm1.27 3h3.609a.75.75 0 1 1 0 1.5h-2.973L13.57 9zm-2.754 2.5L8.038 4.785 5.261 11.5h5.555zm.62 1.5H4.641l-1.666 4.028H1.312l5.789-14h1.875l5.789 14h-1.663L11.436 13z"),fontColor:F("M12.4 10.3L10 4.5l-2.4 5.8h4.8zm.5 1.2H7.1L5.7 15H4.2l5-12h1.6l5 12h-1.5L13 11.5zm3.1 7H4a1 1 0 0 1 0-2h12a1 1 0 0 1 0 2z"),bgColor:F("M4 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2zm8.38 9.262H7.62L10 5.506l2.38 5.756zm.532 1.285L14.34 16h1.426L10.804 4H9.196L4.234 16H5.66l1.428-3.453h5.824z"),imageUpload:{width:1024,height:1024,path:"M810.666667 554.666667a42.666667 42.666667 0 0 0-42.666667 42.666666v16.213334l-63.146667-63.146667a119.04 119.04 0 0 0-167.68 0l-29.866666 29.866667-105.813334-105.813334a121.6 121.6 0 0 0-167.68 0L170.666667 537.6V298.666667a42.666667 42.666667 0 0 1 42.666666-42.666667h298.666667a42.666667 42.666667 0 0 0 0-85.333333H213.333333a128 128 0 0 0-128 128v512a128 128 0 0 0 128 128h512a128 128 0 0 0 128-128v-213.333334a42.666667 42.666667 0 0 0-42.666666-42.666666zM213.333333 853.333333a42.666667 42.666667 0 0 1-42.666666-42.666666v-152.32l123.733333-123.733334a33.706667 33.706667 0 0 1 46.506667 0l135.253333 135.253334 183.466667 183.466666z m554.666667-42.666666a37.973333 37.973333 0 0 1-7.68 22.613333L567.893333 640l29.866667-29.866667a32.853333 32.853333 0 0 1 46.933333 0L768 734.293333z m200.96-627.626667l-128-128a42.666667 42.666667 0 0 0-14.08-8.96 42.666667 42.666667 0 0 0-32.426667 0 42.666667 42.666667 0 0 0-14.08 8.96l-128 128a42.666667 42.666667 0 0 0 60.586667 60.586667L768 188.16V426.666667a42.666667 42.666667 0 0 0 85.333333 0V188.16l55.04 55.466667a42.666667 42.666667 0 0 0 60.586667 0 42.666667 42.666667 0 0 0 0-60.586667z"}});function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),e}var G=function(){function e(t){U(this,e),this.options=t}return Q(e,[{key:"read",value:function(e){return e.getElementsByTagName(this.tagName)[0].value}},{key:"validateType",value:function(e){}},{key:"validate",value:function(e){return!e&&this.options.required?"此项必须填写":this.validateType(e)||this.options.validate&&this.options.validate(e)}},{key:"clean",value:function(e){return this.options.clean?this.options.clean(e):e}}]),e}(),X=function(e){B(n,e);var t=q(n);function n(){return U(this,n),t.apply(this,arguments)}return Q(n,[{key:"render",value:function(){var e=document.createElement(this.tagName);return e.type="text",e.placeholder=this.options.label,e.value=this.options.value||"",e.autocomplete="off",e}},{key:"tagName",get:function(){return"input"}}]),n}(G),Y=function(e){B(n,e);var t=q(n);function n(){return U(this,n),t.apply(this,arguments)}return Q(n,[{key:"render",value:function(){var e=document.createElement(this.tagName);return e.type="file",e.placeholder=this.options.label,e.value=this.options.value||"",e.accept=this.options.accept||"",e.autocomplete="off",e}},{key:"read",value:function(e){return e.getElementsByTagName(this.tagName)[0].files}},{key:"tagName",get:function(){return"input"}}]),n}(G),Z=function(e){return"".concat("zeditor-prompt").concat(e)};function ee(e){var t=document.body.appendChild(document.createElement("div"));t.className="zeditor-prompt";var n=function(e){t.contains(e.target)||r()};setTimeout((function(){return window.addEventListener("mousedown",n)}),50);var r=function e(){window.removeEventListener("mousedown",n),u.removeEventListener("submit",v),u.removeEventListener("keydown",b),p.removeEventListener("click",e),t.parentNode&&t.parentNode.removeChild(t)},o=[];for(var i in e.fields){var a=e.fields[i],s=document.createElement("div");s.className=Z("__control");var l=document.createElement("label");l.textContent=a.options.label,l.className=Z("__control__label"),s.appendChild(l),s.appendChild(a.render()),o.push(s)}var c=document.createElement("button");c.type="submit",c.className=Z("__btn--primary")+" "+Z("__btn"),c.textContent="确定";var p=document.createElement("button");p.type="button",p.className=Z("__btn--default")+" "+Z("__btn"),p.textContent="取消",p.addEventListener("click",r);var u=t.appendChild(document.createElement("form"));e.title&&(u.appendChild(document.createElement("h5")).textContent=e.title);var f=u.appendChild(document.createElement("div"));f.className=Z("__body"),o.forEach((function(e){var t=document.createElement("div");t.appendChild(e),f.appendChild(t)}));var d=u.appendChild(document.createElement("div"));d.className=Z("__buttons"),d.appendChild(c),d.appendChild(document.createTextNode(" ")),d.appendChild(p);var h=t.getBoundingClientRect();t.style.top=(window.innerHeight-h.height)/2+"px",t.style.left=(window.innerWidth-h.width)/2+"px";var m=function(){var t=function(e,t){var n=Object.create(null),r=0;for(var o in e){var i=e[o],a=t[r++],s=i.read(a),l=i.validate(s);if(l)return te(a,l),null;n[o]=i.clean(s)}return n}(e.fields,o);t&&(r(),e.callback(t))},v=function(e){e.preventDefault(),m()},b=function(e){27===e.keyCode?(e.preventDefault(),r()):13!==e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey?9===e.keyCode&&window.setTimeout((function(){t.contains(document.activeElement)||r()}),500):(e.preventDefault(),m())};u.addEventListener("submit",v),u.addEventListener("keydown",b);var y=u.elements[0];y&&y.focus()}function te(e,t){var n=e.parentNode,r=n.appendChild(document.createElement("div"));r.style.left=e.offsetLeft+e.offsetWidth+2+"px",r.style.top=e.offsetTop-5+"px",r.className=Z("__invalid"),r.textContent=t,setTimeout((function(){return n.removeChild(r)}),1500)}var ne=function(e,t){return function(n,r){var o=n.selection,i=o.empty,a=o.$cursor,s=o.ranges;if(i&&!a||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,s=0===i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,s,e))return!1;if(r)if(a)e.isInSet(n.storedMarks||a.marks())&&n.tr.removeStoredMark(e),r(n.tr.addStoredMark(e.create(t)));else{for(var l=!1,c=n.tr,p=0;!l&&p<s.length;p++){var u=s[p],f=u.$from,d=u.$to;l=n.doc.rangeHasMark(f.pos,d.pos,e)}for(var h=0;h<s.length;h++){var m=s[h],v=m.$from,b=m.$to;l&&c.removeMark(v.pos,b.pos,e),c.addMark(v.pos,b.pos,e.create(t))}r(c.scrollIntoView())}return!0}},re="http://www.w3.org/2000/svg";function oe(e,t){for(var n=e.selection.$from,r=n.depth;r>=0;r--){var o=n.index(r);if(n.node(r).canReplaceWith(o,o,t))return!0}return!1}function ie(e,t){var n={label:t.title,run:e};for(var r in t)n[r]=t[r];return t.enable&&!0!==t.enable||t.select||(n[t.enable?"enable":"select"]=function(t){return e(t)}),new h.MenuItem(n)}function ae(e,t){var n=e.selection,r=n.from,o=n.$from,i=n.to;return n.empty?t.isInSet(e.storedMarks||o.marks()):e.doc.rangeHasMark(r,i,t)}function se(e,t){var n={active:function(t){return ae(t,e)},enable:!0};for(var r in t)n[r]=t[r];return t.attrs?ie(ne(e,t.attrs),n):ie(Object(u.toggleMark)(e),n)}function le(e,t){return ie(Object(a.wrapInList)(e,t.attrs),t)}function ce(e,t){var n=document.createElement("div");if(n.className="ProseMirror-icon",e.path){var r="pm-icon-"+function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return t}(e.path).toString(16);document.getElementById(r)||function(e,t){var n=document.getElementById("ProseMirror-menu-collection");n||((n=document.createElementNS(re,"svg")).id="ProseMirror-menu-collection",n.style.display="none",document.body.insertBefore(n,document.body.firstChild));var r=document.createElementNS(re,"symbol");r.id=e,r.setAttribute("viewBox","0 0 "+t.width+" "+t.height),r.appendChild(document.createElementNS(re,"path")).setAttribute("d",t.path),n.appendChild(r)}(r,e),n.appendChild(document.createElementNS(re,"svg")).appendChild(document.createElementNS(re,"use")).setAttributeNS("http://www.w3.org/1999/xlink","href",/([^#]*)/.exec(document.location)[1]+"#"+r)}else e.dom?n.appendChild(e.dom.cloneNode(!0)):(n.appendChild(document.createElement("span")).textContent=e.text||"",e.css&&(n.firstChild.style.cssText=e.css));return t?n:n.firstChild}function pe(e,t){var n=t.selection,r=n.$cursor;if(!r){if(n.empty)return null;var o=n.$from.marks().filter((function(t){return t.type.name===e})),a=n.$to.marks().filter((function(t){return t.type.name===e}));return i.Mark.sameSet(o,a)?o[0]:null}var s=r&&r.marks();if(!s||0===s.length)return null;for(var l=0,c=s.length;l<c;l++){var p=s[l];if(p.type.name===e&&p.attrs)return p}}var ue={type:"blockquote",title:"引用",icon:H.blockquote,create:function(e){return Object(h.wrapItem)(e.nodes[this.type],{title:this.title,icon:this.icon})}},fe={type:"bullet_list",title:"无序列表",icon:H.bulletList,create:function(e){return le(e.nodes[this.type],{title:this.title,icon:this.icon})}},de={type:"code",title:"代码",icon:H.code,create:function(e){return se(e.marks[this.type],{title:this.title,icon:this.icon})}},he={type:"code_block",title:"代码段",label:"代码",icon:H.code,create:function(e){return Object(h.blockTypeItem)(e.nodes[this.type],{title:this.title,icon:this.icon})}},me={type:"em",title:"斜体",icon:H.em,create:function(e){return se(e.marks[this.type],{title:this.title,icon:this.icon})}};function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var be=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){!function(t){var n,r="function",o=function(e,t){return ve(e)===t},i=function e(t,n){null!==n&&(Array.isArray(n)?n.map((function(n){return e(t,n)})):(a.isNode(n)||(n=document.createTextNode(n)),t.appendChild(n)))};function a(e,t){var n,s,l=arguments,c=1;if(e=a.isElement(e)?e:document.createElement(e),o(t,"object")&&!a.isNode(t)&&!Array.isArray(t))for(n in c++,t)s=t[n],n=a.attrMap[n]||n,o(n,r)?n(e,s):o(s,r)?e[n]=s:e.setAttribute(n,s);for(;c<l.length;c++)i(e,l[c]);return e}a.attrMap={},a.isElement=function(e){return e instanceof Element},a.isNode=function(e){return e instanceof Node},"undefined"!=typeof Proxy&&(a.proxy=new Proxy(a,{get:function(e,t){return!(t in a)&&(a[t]=a.bind(null,t)),a[t]}})),n=a,e.exports=n}()}));function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t,n){return t&&ge(e.prototype,t),n&&ge(e,n),e}var xe={time:0,node:null},Me=function(){function e(t,n){ye(this,e),this.options=n||{},this.content=Array.isArray(t)?t:[t]}return we(e,[{key:"render",value:function(e){var t=this,n=ke(this.content,e),r=this.options.icon,o=be("div",{class:"ProseMirror-menu-dropdown "+(this.options.class||""),style:this.options.css||""},r?ce(r):Ce(e,this.options.label));this.options.title&&o.setAttribute("title",Ce(e,this.options.title));var i=be("div",{class:"ProseMirror-menu-dropdown-wrap"},o),a=null,s=null,l=function(){a&&a.close()&&(a=null,window.removeEventListener("mousedown",s))};return o.addEventListener("mousedown",(function(e){e.preventDefault(),Se(e),a?l():(a=t.expand(i,n.dom),window.addEventListener("mousedown",s=function(){ze(i)||l()}))})),{dom:i,update:function(e){var t=n.update(e);return i.style.display=t?"":"none",t}}}},{key:"expand",value:function(e,t){var n=be("div",{class:"ProseMirror-menu-dropdown-menu "+(this.options.class||"")},t),r=!1;return e.appendChild(n),{close:function(){if(!r)return r=!0,e.removeChild(n),!0},node:n}}}]),e}();function ke(e,t){for(var n=[],r=[],o=0;o<e.length;o++){var i=e[o].render(t),a=i.dom,s=i.update;n.push(be("div",{class:"ProseMirror-menu-dropdown-item"},a)),r.push(s)}return{dom:n,update:Oe(r,n)}}function Oe(e,t){return function(n){for(var r=!1,o=0;o<e.length;o++){var i=e[o](n);t[o].style.display=i?"":"none",i&&(r=!0)}return r}}function Se(e){xe.time=Date.now(),xe.node=e.target}function ze(e){return Date.now()-100<xe.time&&xe.node&&e.contains(xe.node)}function Ce(e,t){return e._props.translate?e._props.translate(t):t}var je={type:"paragraph",title:"样式",label:"正文",create:function(e){return Object(h.blockTypeItem)(e.nodes[this.type],{title:this.title,label:this.label})}};function _e(e){return function(e){if(Array.isArray(e))return Pe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ee={type:"heading",title:"样式",label:"标题",create:function(e){var t=this,n=this;return new Me([je.create(e)].concat(_e(_e(new Array(6)).map((function(r,o){return Object(h.blockTypeItem)(e.nodes[t.type],{title:"".concat(n.title," ").concat(o),label:"".concat(n.label," ").concat(o+1),attrs:{level:o+1},render:function(){var e="h".concat(o+1),t=document.createElement(e);return t.textContent=e,t.style.margin=0,t}})})))),{label:n.title})}},Ae={type:"horizontal_rule",title:"插入水平线",label:"水平线",create:function(e){return new h.MenuItem({title:this.title,label:this.label,enable:function(e){return oe(e,this.type)},run:function(t,n){n(t.tr.replaceSelectionWith(e.nodes[this.type].create()))}})}},Te={type:"image",title:"在线图片",icon:H.image,create:function(e){return t=e.nodes[this.type],n=this.title,r=this.icon,new h.MenuItem({title:n,label:n,icon:r,enable:function(e){return oe(e,t)},run:function(e,n,r){var o=e.selection,i=o.from,a=o.to,l=null;e.selection instanceof s.NodeSelection&&e.selection.node.type===t&&(l=e.selection.node.attrs),ee({title:"插入图片",fields:{src:new X({label:"图片地址",required:!0,value:l&&l.src}),title:new X({label:"图片标题",value:l&&l.title}),alt:new X({label:"图片描述",value:l?l.alt:e.doc.textBetween(i,a," ")})},callback:function(e){r.dispatch(r.state.tr.replaceSelectionWith(t.createAndFill(e))),r.focus()}})}});var t,n,r}};function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Le={menubar:[["heading"],["font_size","font_family","font_color","bg_color"],["strong","em","underline","strikethrough","link"],["bullet_list","ordered_list","blockquote","lift","join"],["align_left","align_center","align_right","align_justify"],["table","image","image_upload"],["undo","redo"]],colors:["#000000","#4d4d4d","#999999","#e6e6e6","#ffffff","#e64c4c","#e6994c","#e6e64c","#e6e64c","#4ce64c","#4ce699","#4ce6e6","#4ce6e6","#4c4ce6","#994ce6"],fontFamilies:[{name:"inherit",label:"默认"},{name:"宋体,SimSun,STSong",label:"宋体"},{name:"微软雅黑,Microsoft YaHei",label:"微软雅黑"},{name:"楷体,楷体_GB2312, SimKai, Kaiti, STKaiti",label:"楷体"},{name:"黑体, SimHei, STHeiti",label:"黑体"},{name:"隶书, SimLi, LiSu",label:"隶书"},{name:"andale mono",label:"andale mono"},{name:"arial, helvetica,sans-serif",label:"arial"},{name:"arial black,avant garde",label:"arial black"},{name:"comic sans ms",label:"comic sans ms"},{name:"impact,chicago",label:"impact"}],fontSizes:[{name:"inherit",label:"默认"},{name:"x-small",label:"最小"},{name:"small",label:"小"},{name:"normal",label:"正常"},{name:"large",label:"大"},{name:"x-large",label:"极大"},{name:"xx-large",label:"最大"}]},Fe=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.opts=Ie({},Le)}var t,n,r;return t=e,(n=[{key:"merge",value:function(e){return this.opts=Ie(Ie({},this.opts),e),this}},{key:"get",value:function(e){return e?this.opts[e]:Ie({},this.opts)}}])&&Re(t.prototype,n),r&&Re(t,r),e}());function He(e){return function(e){if(Array.isArray(e))return $e(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Be=/^image\//,We={type:"image_upload",title:"图片上传",icon:H.imageUpload,create:function(e){return new h.MenuItem({title:this.title,icon:this.icon,enable:function(t){return oe(t,e.nodes.image)},run:function(t,n,r){var o=Fe.get("upload");o&&"function"==typeof o?ee({title:"上传图片",fields:{files:new Y({label:"上传",accept:"image/*",required:!0}),title:new X({label:"标题"})},callback:function(t){var n=t.files,i=void 0===n?[]:n,a=t.title;i&&0!==i.length&&(He(i).every((function(e){return e.type.match(Be)}))?o(t.files).then((function(t){r.dispatch(r.state.tr.replaceSelectionWith(e.nodes.image.createAndFill({src:t.url,title:a||""}))),r.focus()})):console.warn("invalid file type !"))}}):console.warn("[image-upload] need to config upload function")}})}},qe={type:"link",title:"超链接",icon:H.link,create:function(e){return t=e.marks[this.type],n=this.title,r=this.icon,new h.MenuItem({title:n,icon:r,active:function(e){return ae(e,t)},enable:function(e){return!e.selection.empty},run:function(e,n,r){if(ae(e,t))return Object(u.toggleMark)(t)(e,n),!0;ee({title:"创建超链接",fields:{href:new X({label:"链接地址",required:!0}),title:new X({label:"标题"})},callback:function(e){Object(u.toggleMark)(t,e)(r.state,r.dispatch),r.focus()}})}});var t,n,r}},Je={type:"ordered_list",title:"有序列表",icon:H.orderedList,create:function(e){return le(e.nodes[this.type],{title:this.title,icon:this.icon})}},Ve={type:"strong",title:"加粗",icon:H.strong,create:function(e){return se(e.marks[this.type],{title:this.title,icon:this.icon})}};function Ue(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qe(e,t){return new h.MenuItem({title:"label",label:e,select:t,run:t})}var Ge=[new h.MenuItem({label:"插入表格",run:function(e,t){ee({title:"插入表格",fields:{rowNum:new X({label:"表格行数",required:!0,value:3}),colNum:new X({label:"表格列数",required:!0,value:3})},callback:function(n){if(t){var r=e.tr;t(r.replaceSelectionWith((o=e.schema,s=(a=n).rowNum,l=a.colNum,c=Ue(new Array(+s)).map((function(e,t){return o.nodes.table_row.create(void 0,i.Fragment.fromArray(Ue(new Array(+l)).map((function(){return o.nodes.table_cell.createAndFill({colwidth:[100]})}))))})),o.nodes.table.create(void 0,i.Fragment.fromArray(c)))))}var o,a,s,l,c}})}}),Qe("删除表格",m.deleteTable),Qe("左侧插入列",m.addColumnBefore),Qe("右侧插入列",m.addColumnAfter),Qe("删除当前列",m.deleteColumn),Qe("上方插入行",m.addRowBefore),Qe("下方插入行",m.addRowAfter),Qe("删除当前行",m.deleteRow),Qe("合并单元格",m.mergeCells),Qe("拆分单元格",m.splitCell),Qe("切换表头样式",m.toggleHeaderRow)],Xe={type:"table",label:"表格",icon:H.table,create:function(e){return new Me(Ge,{label:this.title,title:this.label,icon:this.icon})}},Ye={type:"underline",title:"下划线",icon:H.underline,create:function(e){return se(e.marks[this.type],{title:this.title,icon:this.icon})}},Ze={type:"strikethrough",title:"删除线",icon:H.strikethrough,create:function(e){return se(e.marks[this.type],{title:this.title,icon:this.icon})}},et={type:"font_size",title:"文字大小",icon:H.fontSize,create:function(e){var t=e.marks[this.type];return new Me(Fe.get("fontSizes").map((function(e,n){return se(t,{title:e.label,label:e.label,attrs:{fontSize:e.name},active:function(e){var t=pe("font_size",e);return t&&t.attrs.fontSize===this.attrs.fontSize},render:function(){var t=document.createElement("div");return t.textContent=e.label,t.style.fontSize=e.name,t}})})),{title:this.title,label:this.title,icon:this.icon,enable:function(e){return!e.selection.empty}})}};var tt={type:"font_family",title:"字体",icon:H.fontFamily,create:function(e){var t=e.marks[this.type];return new Me(Fe.get("fontFamilies").map((function(e){return se(t,{title:e.label,label:e.label,attrs:(n={},r="fontFamily",o=e.name,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),active:function(e){var t=pe("font_family",e);return t&&t.attrs.fontFamily===this.attrs.fontFamily},render:function(){var t=document.createElement("div");return t.textContent=e.label,t.style.fontFamily=e.name,t}});var n,r,o})),{title:this.title,label:this.title,icon:this.icon,enable:function(e){return!e.selection.empty}})}},nt=n(39),rt=!1;function ot(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("div");t.className="".concat("zeditor","-colorpicker"),t.appendChild(document.createTextNode(e));var n=document.createElement("div");n.className="".concat("zeditor","-colorpicker__colors"),Fe.get("colors").forEach((function(e){var t=document.createElement("div");t.className="".concat("zeditor","-colorpicker__color"),t.style.backgroundColor=e,n.appendChild(t)}));var r=document.createElement("div");return r.className="".concat("zeditor","-colorpicker__clear"),r.textContent="清除",n.appendChild(r),t.appendChild(n),document.body.appendChild(t),rt=!0,t}function it(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.title,o=void 0===r?"选择文字颜色":r;if(rt)return null;var i=ot(o),a=Object(nt.createPopper)(e,i,{placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,2]}}]}),s=function(e){i.contains(e.target)||c()},l=function(e){if(t){var n=e.srcElement;"zeditor-colorpicker__color"===n.className?t(n.style.backgroundColor):"zeditor-colorpicker__clear"===n.className&&t("inherit")}c()};function c(){i&&document.body.removeChild(i),window.removeEventListener("mousedown",s),i.removeEventListener("mousedown",l),a&&(a.destroy(),a=null,rt=!1)}return i.addEventListener("mousedown",l),window.addEventListener("mousedown",s),c}var at={type:"font_color",title:"文字颜色",icon:H.fontColor,create:function(e){return new h.MenuItem({title:this.title,icon:this.icon,run:function(t,n,r,o){var i=o.srcElement||o.target;"svg"===i.tagName&&(i=i.parentElement||i.parentNode),setTimeout((function(){it(i,(function(r){ne(e.marks.font_color,{fontColor:r})(t,n)}))}),0)}})}},st={type:"bg_color",title:"背景颜色",icon:H.bgColor,create:function(e){return new h.MenuItem({title:this.title,icon:this.icon,run:function(t,n,r,o){var i=o.target||o.srcElement;"svg"===(i.tagName||i.nodeName)&&(i=i.parentElement||i.parentNode),setTimeout((function(){it(i,(function(r){ne(e.marks.bg_color,{bgColor:r})(t,n)}),{title:"选择背景颜色"})}),0)}})}},lt={type:"align_left",title:"左对齐",label:"左对齐",icon:H.alignLeft,create:function(e){return Object(h.blockTypeItem)(e.nodes.paragraph,{title:this.title,label:this.label,icon:this.icon,attrs:{alignment:"left"}})}},ct={type:"align_center",title:"中对齐",label:"中对齐",icon:H.alignCenter,create:function(e){return Object(h.blockTypeItem)(e.nodes.paragraph,{title:this.title,label:this.label,icon:this.icon,attrs:{alignment:"center"}})}},pt={type:"align_right",title:"右对齐",label:"右对齐",icon:H.alignRight,create:function(e){return Object(h.blockTypeItem)(e.nodes.paragraph,{title:this.title,label:this.label,icon:this.icon,attrs:{alignment:"right"}})}},ut={type:"align_justify",title:"两端对齐",label:"两端对齐",icon:H.alignJustify,create:function(e){return Object(h.blockTypeItem)(e.nodes.paragraph,{title:this.title,label:this.label,icon:this.icon,attrs:{alignment:"justify"}})}},ft=[ue,fe,de,he,me,Ee,Ae,Te,We,qe,Je,Xe,je,Ve,Ye,Ze,et,tt,at,st,lt,ct,pt,ut];function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}h.joinUpItem.spec.title="向上合并",h.liftItem.spec.title="减少层级",h.undoItem.spec.title="撤销",h.redoItem.spec.title="重做";var vt=ft.reduce((function(e,t){return ht(ht({},e),{},mt({},t.type,t))}),{}),bt={join:h.joinUpItem,lift:h.liftItem,undo:h.undoItem,redo:h.redoItem};function yt(e,t){return Array.isArray(t)?t.map((function(t){return yt(e,t)})).filter((function(e){return!!e})):function(e,t){return vt[t]?vt[t].create(e):bt[t]?bt[t]:(console.warn("invalid menu name: ".concat(t)),null)}(e,t)}var gt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return yt(e,t)},wt=n(14),xt=n(9),Mt=n(13),kt=n(4),Ot="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function St(e,t){var n,r={};function o(e,n){if(t){var o=t[e];if(!1===o)return;o&&(e=o)}r[e]=n}if(o("Mod-z",wt.undo),o("Shift-Mod-z",wt.redo),o("Backspace",kt.undoInputRule),Ot||o("Mod-y",wt.redo),o("Alt-ArrowUp",xt.joinUp),o("Alt-ArrowDown",xt.joinDown),o("Mod-BracketLeft",xt.lift),o("Escape",xt.selectParentNode),(n=e.marks.strong)&&(o("Mod-b",xt.toggleMark(n)),o("Mod-B",xt.toggleMark(n))),(n=e.marks.em)&&(o("Mod-i",xt.toggleMark(n)),o("Mod-I",xt.toggleMark(n))),(n=e.marks.code)&&o("Mod-`",xt.toggleMark(n)),(n=e.nodes.bullet_list)&&o("Shift-Ctrl-8",Mt.wrapInList(n)),(n=e.nodes.ordered_list)&&o("Shift-Ctrl-9",Mt.wrapInList(n)),(n=e.nodes.blockquote)&&o("Ctrl->",xt.wrapIn(n)),n=e.nodes.hard_break){var i=n,a=xt.chainCommands(xt.exitCode,(function(e,t){return t(e.tr.replaceSelectionWith(i.create()).scrollIntoView()),!0}));o("Mod-Enter",a),o("Shift-Enter",a),Ot&&o("Ctrl-Enter",a)}if((n=e.nodes.list_item)&&(o("Enter",Mt.splitListItem(n)),o("Mod-[",Mt.liftListItem(n)),o("Mod-]",Mt.sinkListItem(n))),(n=e.nodes.paragraph)&&o("Shift-Ctrl-0",xt.setBlockType(n)),(n=e.nodes.code_block)&&o("Shift-Ctrl-\\",xt.setBlockType(n)),n=e.nodes.heading)for(var s=1;s<=6;s++)o("Shift-Ctrl-"+s,xt.setBlockType(n,{level:s}));if(n=e.nodes.horizontal_rule){var l=n;o("Mod-_",(function(e,t){return t(e.tr.replaceSelectionWith(l.create()).scrollIntoView()),!0}))}return r}var zt={marks:k,nodeViews:{image:function(e,t,n){return new w(e,t,n)}}};function Ct(e){return function(e){if(Array.isArray(e))return jt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _t=new s.Plugin({props:{key:"image",handlePaste:function(e,t,n){var r=t.clipboardData;if(0===n.size&&r.files.length){var o=e.state.schema,i=e.state.tr;return Ct(r.files).forEach((function(t){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){var r=o.nodes.image.createAndFill({src:n.result,title:t.name});i.replaceSelectionWith(r),e.dispatch(i)}})),!0}return!1},transformPastedHTML:function(e){return e}}}),Pt=(n(40),n(44)),Et=n(45),At=function(){};t.default={create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Fe.merge(t).get();if(!n.menubar||0===n.menubar.length)return console.error("invalid config [menubar]"),null;var r=o()(I.spec.nodes),f=o()(I.spec.marks),v=n.events&&n.events.change||At,b=new i.Schema({nodes:Object(a.addListNodes)(r,"paragraph block*","block").append(Object(m.tableNodes)({tableGroup:"block",cellContent:"block+",cellAttributes:{background:{default:null,getFromDOM:function(e){return e.style.backgroundColor||null},setDOMAttr:function(e,t){e&&(t.style=(t.style||"")+"background-color: ".concat(e,";"))}}}})),marks:f}),y=gt(b,n.menubar),g=[Object(c.history)(),Object(m.columnResizing)(),Object(m.tableEditing)(),Object(p.keymap)({"Mod-z":c.undo,"Mod-y":c.redo}),Object(p.keymap)({Tab:Object(m.goToNextCell)(1),"Shift-Tab":Object(m.goToNextCell)(-1)}),Object(h.menuBar)({floating:!1,content:y}),_t,d(b),Object(p.keymap)(St(b)),Object(p.keymap)(u.baseKeymap),Pt.dropCursor(),Et.gapCursor()],w=s.EditorState.create({schema:b,plugins:g}),x=Object(m.fixTables)(w);function M(e){v.call(k,e)}x&&(w=w.apply(x.setMeta("addToHistory",!1)));var k=new l.EditorView(e,{state:w,dispatchTransaction:function(e){var t=k.state.apply(e);if(k.updateState(t),e.docChanged&&v&&"function"==typeof v){var n=i.DOMSerializer.fromSchema(b).serializeFragment(e.doc);M([].map.call(n.childNodes,(function(e){return e.outerHTML})).join(""))}},nodeViews:zt.nodeViews});try{document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)}catch(e){}return{destroy:function(){k.destroy(),w=null,b=null},getValue:function(){var e=k.state.tr.doc,t=i.DOMSerializer.fromSchema(b).serializeFragment(e);return[].map.call(t.childNodes,(function(e){return e.outerHTML})).join("")},setValue:function(e){var t=document.createElement("div");t.innerHTML=e;var n=i.DOMParser.fromSchema(k.state.schema).parse(t),r=s.EditorState.create({schema:k.state.schema,doc:n,plugins:k.state.plugins});k.updateState(r),M(e)}}}}},13:function(e,t){e.exports=require("prosemirror-schema-list")},14:function(e,t){e.exports=require("prosemirror-history")},15:function(e,t){e.exports=require("prosemirror-keymap")},2:function(e,t){e.exports=require("prosemirror-tables")},25:function(e,t){e.exports=require("lodash.clonedeep")},38:function(e,t){e.exports=require("prosemirror-view")},39:function(e,t){e.exports=require("@popperjs/core")},4:function(e,t,n){"use strict";n.r(t),n.d(t,"InputRule",(function(){return I})),n.d(t,"closeDoubleQuote",(function(){return B})),n.d(t,"closeSingleQuote",(function(){return q})),n.d(t,"ellipsis",(function(){return H})),n.d(t,"emDash",(function(){return F})),n.d(t,"inputRules",(function(){return D})),n.d(t,"openDoubleQuote",(function(){return $})),n.d(t,"openSingleQuote",(function(){return W})),n.d(t,"smartQuotes",(function(){return J})),n.d(t,"textblockTypeInputRule",(function(){return U})),n.d(t,"undoInputRule",(function(){return L})),n.d(t,"wrappingInputRule",(function(){return V}));var r=n(6),o=n(0),i=Math.pow(2,16);function a(e){return 65535&e}var s=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},l=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};l.prototype.recover=function(e){var t=0,n=a(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/i}(e)},l.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},l.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},l.prototype._map=function(e,t,n){for(var r=0,o=this.inverted?2:1,a=this.inverted?1:2,l=0;l<this.ranges.length;l+=3){var c=this.ranges[l]-(this.inverted?r:0);if(c>e)break;var p=this.ranges[l+o],u=this.ranges[l+a],f=c+p;if(e<=f){var d=c+r+((p?e==c?-1:e==f?1:t:t)<0?0:u);if(n)return d;var h=e==(t<0?c:f)?null:l/3+(e-c)*i;return new s(d,t<0?e!=c:e!=f,h)}r+=u-p}return n?e+r:new s(e+r)},l.prototype.touches=function(e,t){for(var n=0,r=a(t),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var l=this.ranges[s]-(this.inverted?n:0);if(l>e)break;var c=this.ranges[s+o];if(e<=l+c&&s==3*r)return!0;n+=this.ranges[s+i]-c}return!1},l.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(a,a+l,s,s+c),o+=c-l}},l.prototype.invert=function(){return new l(this.ranges,!this.inverted)},l.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},l.offset=function(e){return 0==e?l.empty:new l(e<0?[0,-e,0]:[0,0,e])},l.empty=new l([]);var c=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};function p(e){var t=Error.call(this,e);return t.__proto__=p.prototype,t}c.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new c(this.maps,this.mirror,e,t)},c.prototype.copy=function(){return new c(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},c.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},c.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null)}},c.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},c.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},c.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null)}},c.prototype.invert=function(){var e=new c;return e.appendMappingInverted(this),e},c.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},c.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},c.prototype._map=function(e,t,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(e,t);if(null!=i.recover){var a=this.getMirror(o);if(null!=a&&a>o&&a<this.to){o=a,e=this.maps[a].recover(i.recover);continue}}i.deleted&&(r=!0),e=i.pos}return n?e:new s(e,r)},p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="TransformError";var u=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new c},f={before:{configurable:!0},docChanged:{configurable:!0}};function d(){throw new Error("Override me")}f.before.get=function(){return this.docs.length?this.docs[0]:this.doc},u.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new p(t.failed);return this},u.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},f.docChanged.get=function(){return this.steps.length>0},u.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(u.prototype,f);var h=Object.create(null),m=function(){};m.prototype.apply=function(e){return d()},m.prototype.getMap=function(){return l.empty},m.prototype.invert=function(e){return d()},m.prototype.map=function(e){return d()},m.prototype.merge=function(e){return null},m.prototype.toJSON=function(){return d()},m.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=h[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},m.jsonID=function(e,t){if(e in h)throw new RangeError("Duplicate use of step JSON ID "+e);return h[e]=t,t.prototype.jsonID=e,t};var v=function(e,t){this.doc=e,this.failed=t};v.ok=function(e){return new v(e,null)},v.fail=function(e){return new v(null,e)},v.fromReplace=function(e,t,n,r){try{return v.ok(e.replace(t,n,r))}catch(e){if(e instanceof o.ReplaceError)return v.fail(e.message);throw e}};var b=function(e){function t(t,n,r,o){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&g(e,this.from,this.to)?v.fail("Structure replace would overwrite content"):v.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new l([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?o.Slice.empty:new o.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var r=this.slice.size+e.slice.size==0?o.Slice.empty:new o.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),r,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,o.Slice.fromJSON(e,n.slice),!!n.structure)},t}(m);m.jsonID("replace",b);var y=function(e){function t(t,n,r,o,i,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(g(e,this.from,this.gapFrom)||g(e,this.gapTo,this.to)))return v.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return v.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?v.fromReplace(e,this.from,this.to,n):v.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new l([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new t(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,o.Slice.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(m);function g(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function w(e){return{type:e,attrs:null}}function x(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function M(e,t,n){for(var r=[],i=0;i<e.childCount;i++){var a=e.child(i);a.content.size&&(a=a.copy(M(a.content,t,a))),a.isInline&&(a=t(a,n,i)),r.push(a)}return o.Fragment.fromArray(r)}m.jsonID("replaceAround",y),u.prototype.lift=function(e,t){for(var n=e.$from,r=e.$to,i=e.depth,a=n.before(i+1),s=r.after(i+1),l=a,c=s,p=o.Fragment.empty,u=0,f=i,d=!1;f>t;f--)d||n.index(f)>0?(d=!0,p=o.Fragment.from(n.node(f).copy(p)),u++):l--;for(var h=o.Fragment.empty,m=0,v=i,b=!1;v>t;v--)b||r.after(v+1)<r.end(v)?(b=!0,h=o.Fragment.from(r.node(v).copy(h)),m++):c++;return this.step(new y(l,c,a,s,new o.Slice(p.append(h),u,m),p.size-u,!0))},u.prototype.wrap=function(e,t){for(var n=o.Fragment.empty,r=t.length-1;r>=0;r--)n=o.Fragment.from(t[r].type.create(t[r].attrs,n));var i=e.start,a=e.end;return this.step(new y(i,a,i,a,new o.Slice(n,0,0),t.length,!0))},u.prototype.setBlockType=function(e,t,n,r){var i=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,r)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(i.doc,i.mapping.slice(a).map(t),n)){i.clearIncompatible(i.mapping.slice(a).map(t,1),n);var s=i.mapping.slice(a),l=s.map(t,1),c=s.map(t+e.nodeSize,1);return i.step(new y(l,c,l+1,c-1,new o.Slice(o.Fragment.from(n.create(r,null,e.marks)),0,0),1,!0)),!1}})),this},u.prototype.setNodeMarkup=function(e,t,n,r){var i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);var a=t.create(n,null,r||i.marks);if(i.isLeaf)return this.replaceWith(e,e+i.nodeSize,a);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new y(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new o.Slice(o.Fragment.from(a),0,0),1,!0))},u.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var r=this.doc.resolve(e),i=o.Fragment.empty,a=o.Fragment.empty,s=r.depth,l=r.depth-t,c=t-1;s>l;s--,c--){i=o.Fragment.from(r.node(s).copy(i));var p=n&&n[c];a=o.Fragment.from(p?p.type.create(p.attrs,a):r.node(s).copy(a))}return this.step(new b(e,e,new o.Slice(i.append(a),t,t),!0))},u.prototype.join=function(e,t){void 0===t&&(t=1);var n=new b(e-t,e+t,o.Slice.empty,!0);return this.step(n)};var k=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),a=new o.Slice(M(n.content,(function(e,n){return n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),i),n.openStart,n.openEnd);return v.fromReplace(e,this.from,this.to,a)},t.prototype.invert=function(){return new O(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(m);m.jsonID("addMark",k);var O=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=new o.Slice(M(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return v.fromReplace(e,this.from,this.to,r)},t.prototype.invert=function(){return new k(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(m);function S(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}m.jsonID("removeMark",O),u.prototype.addMark=function(e,t,n){var r=this,o=[],i=[],a=null,s=null;return this.doc.nodesBetween(e,t,(function(r,l,c){if(r.isInline){var p=r.marks;if(!n.isInSet(p)&&c.type.allowsMarkType(n.type)){for(var u=Math.max(l,e),f=Math.min(l+r.nodeSize,t),d=n.addToSet(p),h=0;h<p.length;h++)p[h].isInSet(d)||(a&&a.to==u&&a.mark.eq(p[h])?a.to=f:o.push(a=new O(u,f,p[h])));s&&s.to==u?s.to=f:i.push(s=new k(u,f,n))}}})),o.forEach((function(e){return r.step(e)})),i.forEach((function(e){return r.step(e)})),this},u.prototype.removeMark=function(e,t,n){var r=this;void 0===n&&(n=null);var i=[],a=0;return this.doc.nodesBetween(e,t,(function(r,s){if(r.isInline){a++;var l=null;if(n instanceof o.MarkType){var c=n.isInSet(r.marks);c&&(l=[c])}else n?n.isInSet(r.marks)&&(l=[n]):l=r.marks;if(l&&l.length)for(var p=Math.min(s+r.nodeSize,t),u=0;u<l.length;u++){for(var f=l[u],d=void 0,h=0;h<i.length;h++){var m=i[h];m.step==a-1&&f.eq(i[h].style)&&(d=m)}d?(d.to=p,d.step=a):i.push({style:f,from:Math.max(s,e),to:p,step:a})}}})),i.forEach((function(e){return r.step(new O(e.from,e.to,e.style))})),this},u.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var r=this.doc.nodeAt(e),i=[],a=e+1,s=0;s<r.childCount;s++){var l=r.child(s),c=a+l.nodeSize,p=n.matchType(l.type,l.attrs);if(p){n=p;for(var u=0;u<l.marks.length;u++)t.allowsMarkType(l.marks[u].type)||this.step(new O(a,c,l.marks[u]))}else i.push(new b(a,c,o.Slice.empty));a=c}if(!n.validEnd){var f=n.fillBefore(o.Fragment.empty,!0);this.replace(a,a,new o.Slice(f,0,0))}for(var d=i.length-1;d>=0;d--)this.step(i[d]);return this},u.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=o.Slice.empty);var r=function(e,t,n,r){if(void 0===n&&(n=t),void 0===r&&(r=o.Slice.empty),t==n&&!r.size)return null;var i=e.resolve(t),a=e.resolve(n);return S(i,a,r)?new b(t,n,r):new z(i,a,r).fit()}(this.doc,e,t,n);return r&&this.step(r),this},u.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new o.Slice(o.Fragment.from(n),0,0))},u.prototype.delete=function(e,t){return this.replace(e,t,o.Slice.empty)},u.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var z=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var r=0;r<=e.depth;r++){var i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))})}this.placed=o.Fragment.empty;for(var a=e.depth;a>0;a--)this.placed=o.Fragment.from(e.node(a).copy(this.placed))},C={depth:{configurable:!0}};function j(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(j(e.firstChild.content,t-1,n)))}function _(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(_(e.lastChild.content,t-1,n)))}function P(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function E(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,E(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(o.Fragment.empty,!0)))),e.copy(r)}function A(e,t,n,r,o){var i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var s=r.fillBefore(i.content,!0,a);return s&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?s:null}function T(e,t,n,r,i){if(t<n){var a=e.firstChild;e=e.replaceChild(0,a.copy(T(a.content,t+1,n,r,a)))}if(t>r){var s=i.contentMatchAt(0),l=s.fillBefore(e).append(e);e=l.append(s.matchFragment(l).fillBefore(o.Fragment.empty,!0))}return e}function N(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;o==t.start(r)&&n.push(r)}return n}C.depth.get=function(){return this.frontier.length-1},z.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;for(var a=this.placed,s=r.depth,l=i.depth;s&&l&&1==a.childCount;)a=a.firstChild.content,s--,l--;var c=new o.Slice(a,s,l);return t>-1?new y(r.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new b(r.pos,i.pos,c):void 0},z.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,r=(t?(n=P(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,i=this.depth;i>=0;i--){var a=this.frontier[i],s=a.type,l=a.match,c=void 0,p=void 0;if(1==e&&(r?l.matchType(r.type)||(p=l.fillBefore(o.Fragment.from(r),!1)):s.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:i,parent:n,inject:p};if(2==e&&r&&(c=l.findWrapping(r.type)))return{sliceDepth:t,frontierDepth:i,parent:n,wrap:c};if(n&&l.matchType(n.type))break}},z.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,i=P(t,n);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new o.Slice(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)},z.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,i=P(t,n);if(i.childCount<=1&&n>0){var a=t.size-n<=n+i.size;this.unplaced=new o.Slice(j(t,n-1,1),n-1,a?n-1:r)}else this.unplaced=new o.Slice(j(t,n,1),n,r)},z.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,i=e.inject,a=e.wrap;this.depth>n;)this.closeFrontierNode();if(a)for(var s=0;s<a.length;s++)this.openFrontierNode(a[s]);var l=this.unplaced,c=r?r.content:l.content,p=l.openStart-t,u=0,f=[],d=this.frontier[n],h=d.match,m=d.type;if(i){for(var v=0;v<i.childCount;v++)f.push(i.child(v));h=h.matchFragment(i)}for(var b=c.size+t-(l.content.size-l.openEnd);u<c.childCount;){var y=c.child(u),g=h.matchType(y.type);if(!g)break;(++u>1||0==p||y.content.size)&&(h=g,f.push(E(y.mark(m.allowedMarks(y.marks)),1==u?p:0,u==c.childCount?b:-1)))}var w=u==c.childCount;w||(b=-1),this.placed=_(this.placed,n,o.Fragment.from(f)),this.frontier[n].match=h,w&&b<0&&r&&r.type==this.frontier[this.depth].type&&this.closeFrontierNode();for(var x=0,M=c;x<b;x++){var k=M.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),M=k.content}this.unplaced=w?0==t?o.Slice.empty:new o.Slice(j(l.content,t-1,1),t-1,b<0?l.openEnd:t-1):new o.Slice(j(l.content,t,u),l.openStart,l.openEnd)},z.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!A(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},z.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,o=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=A(e,t,o,r,i);if(a){for(var s=t-1;s>=0;s--){var l=this.frontier[s],c=l.match,p=A(e,s,l.type,c,!0);if(!p||p.childCount)continue e}return{depth:t,fit:a,move:i?e.doc.resolve(e.after(t+1)):e}}}},z.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=_(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e},z.prototype.openFrontierNode=function(e,t,n){var r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=_(this.placed,this.depth,o.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},z.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(o.Fragment.empty,!0);e.childCount&&(this.placed=_(this.placed,this.frontier.length,e))},Object.defineProperties(z.prototype,C),u.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var r=this.doc.resolve(e),i=this.doc.resolve(t);if(S(r,i,n))return this.step(new b(e,t,n));var a=N(r,this.doc.resolve(t));0==a[a.length-1]&&a.pop();var s=-(r.depth+1);a.unshift(s);for(var l=r.depth,c=r.pos-1;l>0;l--,c--){var p=r.node(l).type.spec;if(p.defining||p.isolating)break;a.indexOf(l)>-1?s=l:r.before(l)==c&&a.splice(1,0,-l)}for(var u=a.indexOf(s),f=[],d=n.openStart,h=n.content,m=0;;m++){var v=h.firstChild;if(f.push(v),m==n.openStart)break;h=v.content}d>0&&f[d-1].type.spec.defining&&r.node(u).type!=f[d-1].type?d-=1:d>=2&&f[d-1].isTextblock&&f[d-2].type.spec.defining&&r.node(u).type!=f[d-2].type&&(d-=2);for(var y=n.openStart;y>=0;y--){var g=(y+d+1)%(n.openStart+1),w=f[g];if(w)for(var x=0;x<a.length;x++){var M=a[(x+u)%a.length],k=!0;M<0&&(k=!1,M=-M);var O=r.node(M-1),z=r.index(M-1);if(O.canReplaceWith(z,z,w.type,w.marks))return this.replace(r.before(M),k?i.after(M):t,new o.Slice(T(n.content,0,n.openStart,g),g,n.openEnd))}}for(var C=this.steps.length,j=a.length-1;j>=0&&(this.replace(e,t,n),!(this.steps.length>C));j--){var _=a[j];j<0||(e=r.before(_),t=i.after(_))}return this},u.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var r=function(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}}(this.doc,e,n.type);null!=r&&(e=t=r)}return this.replaceRange(e,t,new o.Slice(o.Fragment.from(n),0,0))},u.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),o=N(n,r),i=0;i<o.length;i++){var a=o[i],s=i==o.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var l=1;l<=n.depth&&l<=r.depth;l++)if(e-n.start(l)==n.depth-l&&t>n.end(l)&&r.end(l)-t!=r.depth-l)return this.delete(n.before(l),t);return this.delete(e,t)};var I=function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,r,o){var i=n;if(t[1]){var a=t[0].lastIndexOf(t[1]);i+=t[0].slice(a+t[1].length);var s=(r+=a)-o;s>0&&(i=t[0].slice(a-s,a)+i,r=o)}return e.tr.insertText(i,r,o)}):t};function D(e){var t=e.rules,n=new r.Plugin({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,r,o,i){return R(e,r,o,i,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var r=e.state.selection.$cursor;r&&R(e,r.pos,r.pos,"",t,n)}))}}},isInputRules:!0});return n}function R(e,t,n,r,o,i){if(e.composing)return!1;var a=e.state,s=a.doc.resolve(t);if(s.parent.type.spec.code)return!1;for(var l=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"￼")+r,c=0;c<o.length;c++){var p=o[c].match.exec(l),u=p&&o[c].handler(a,p,t-(p[0].length-r.length),n);if(u)return e.dispatch(u.setMeta(i,{transform:u,from:t,to:n,text:r})),!0}return!1}function L(e,t){for(var n=e.plugins,r=0;r<n.length;r++){var o=n[r],i=void 0;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){for(var a=e.tr,s=i.transform,l=s.steps.length-1;l>=0;l--)a.step(s.steps[l].invert(s.docs[l]));var c=a.doc.resolve(i.from).marks();t(a.replaceWith(i.from,i.to,e.schema.text(i.text,c)))}return!0}}return!1}var F=new I(/--$/,"—"),H=new I(/\.\.\.$/,"…"),$=new I(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),B=new I(/"$/,"”"),W=new I(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),q=new I(/'$/,"’"),J=[$,B,W,q];function V(e,t,n,r){return new I(e,(function(e,o,i,a){var s=n instanceof Function?n(o):n,l=e.tr.delete(i,a),c=l.doc.resolve(i).blockRange(),p=c&&function(e,t,n,r){void 0===r&&(r=e);var o=function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,l=r;s&&l<o;l++)s=s.matchType(n.child(l).type);if(!s||!s.validEnd)return null;return a}(r,t);return i?o.map(w).concat({type:t,attrs:n}).concat(i.map(w)):null}(c,t,s);if(!p)return null;l.wrap(c,p);var u,f,d,h,m=l.doc.resolve(i-1).nodeBefore;return m&&m.type==t&&(u=l.doc,f=i-1,d=u.resolve(f),h=d.index(),x(d.nodeBefore,d.nodeAfter)&&d.parent.canReplace(h,h+1))&&(!r||r(o,m))&&l.join(i-1),l}))}function U(e,t,n){return new I(e,(function(e,r,o,i){var a=e.doc.resolve(o),s=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?e.tr.delete(o,i).setBlockType(o,o,t,s):null}))}},40:function(e,t,n){var r=n(41),o=n(42);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},41:function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],l=t.base?i[0]+t.base:i[0],c=n[l]||0,p="".concat(l," ").concat(c);n[l]=c+1;var u=s(p),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==u?(a[u].references++,a[u].updater(f)):a.push({identifier:p,updater:v(f,t),references:1}),r.push(p)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var p,u=(p=[],function(e,t){return p[e]=t,p.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=u(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function d(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,m=0;function v(e,t){var n,r,o;if(t.singleton){var i=m++;n=h||(h=c(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=c(t),r=d.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=s(n[r]);a[o].references--}for(var i=l(e,t),c=0;c<n.length;c++){var p=s(n[c]);0===a[p].references&&(a[p].updater(),a.splice(p,1))}n=i}}}},42:function(e,t,n){(t=n(43)(!1)).push([e.i,':focus {\n  outline: none;\n}\n.ProseMirror {\n  min-height: 130px;\n  padding: 4px 8px 4px 14px;\n  line-height: 1.2;\n}\n.ProseMirror-icon {\n  padding: 2px 4px;\n}\n.ProseMirror-icon svg {\n  width: 20px !important;\n  height: 20px;\n}\n.ProseMirror-textblock-dropdown {\n  min-width: 3em;\n}\n.ProseMirror-menu {\n  margin: 0 -4px;\n  line-height: 1;\n}\n.ProseMirror-tooltip .ProseMirror-menu {\n  width: -webkit-fit-content;\n  width: fit-content;\n  white-space: pre;\n}\n.ProseMirror-menuitem {\n  margin-right: 3px;\n  display: inline-block;\n}\n.ProseMirror-menuseparator {\n  border-right: 1px solid #ddd;\n  margin-right: 3px;\n}\n.ProseMirror-menu-dropdown,\n.ProseMirror-menu-dropdown-menu {\n  font-size: 90%;\n  white-space: nowrap;\n}\n.ProseMirror-menu-dropdown {\n  vertical-align: 1px;\n  cursor: pointer;\n  position: relative;\n  padding-right: 15px;\n}\n.ProseMirror-menu-dropdown-wrap {\n  padding: 1px 0 1px 4px;\n  display: inline-block;\n  position: relative;\n}\n.ProseMirror-menu-dropdown:after {\n  content: "";\n  border-left: 4px solid transparent;\n  border-right: 4px solid transparent;\n  border-top: 4px solid currentColor;\n  opacity: 0.6;\n  position: absolute;\n  right: 4px;\n  top: calc(50% - 2px);\n}\n.ProseMirror-menu-dropdown-menu,\n.ProseMirror-menu-submenu {\n  position: absolute;\n  background: white;\n  color: #666;\n  border: 1px solid #aaa;\n  padding: 2px;\n}\n.ProseMirror-menu-dropdown-menu {\n  z-index: 15;\n  min-width: 6em;\n}\n.ProseMirror-menu-dropdown-item {\n  cursor: pointer;\n  padding: 2px 8px 2px 4px;\n}\n.ProseMirror-menu-dropdown-item:hover {\n  background: #f2f2f2;\n}\n.ProseMirror-menu-submenu-wrap {\n  position: relative;\n  margin-right: -4px;\n}\n.ProseMirror-menu-submenu-label:after {\n  content: "";\n  border-top: 4px solid transparent;\n  border-bottom: 4px solid transparent;\n  border-left: 4px solid currentColor;\n  opacity: 0.6;\n  position: absolute;\n  right: 4px;\n  top: calc(50% - 4px);\n}\n.ProseMirror-menu-submenu {\n  display: none;\n  min-width: 4em;\n  left: 100%;\n  top: -3px;\n}\n.ProseMirror-menu-active {\n  background: #eee;\n  border-radius: 4px;\n}\n.ProseMirror-menu-disabled {\n  opacity: 0.3;\n}\n.ProseMirror-menu-submenu-wrap:hover .ProseMirror-menu-submenu,\n.ProseMirror-menu-submenu-wrap-active .ProseMirror-menu-submenu {\n  display: block;\n}\n.ProseMirror-menubar {\n  border-top-left-radius: inherit;\n  border-top-right-radius: inherit;\n  position: relative;\n  min-height: 1em;\n  color: #666;\n  padding: 1px 6px;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-bottom: 1px solid silver;\n  background: white;\n  z-index: 10;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  overflow: visible;\n}\n.ProseMirror-icon {\n  display: inline-block;\n  line-height: 0.8;\n  vertical-align: -2px;\n  /* Compensate for padding */\n  padding: 2px 8px;\n  cursor: pointer;\n}\n.ProseMirror-menu-disabled.ProseMirror-icon {\n  cursor: default;\n}\n.ProseMirror-icon span {\n  vertical-align: text-top;\n}\n.ProseMirror-menubar-wrapper {\n  font-family: "PingFang SC", Arial, "Microsoft YaHei", sans-serif;\n  border: 1px solid #c4c4c4;\n}\n.ProseMirror-menubar-wrapper .ProseMirror-menubar {\n  padding: 4px;\n  min-height: 20px;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  background: #fafafa;\n}\n.ProseMirror-menubar-wrapper .ProseMirror-menuitem {\n  margin-right: 8px;\n  display: flex;\n  flex-wrap: nowrap;\n}\n.ProseMirror-menubar-wrapper .ProseMirror-menuitem:hover {\n  background-color: #eee;\n}\n.ProseMirror-menubar-wrapper .ProseMirror-menu-dropdown {\n  font-size: 100%;\n}\n.ProseMirror-menubar-wrapper svg {\n  pointer-events: none;\n}\n.ProseMirror-menuseparator {\n  margin-left: 3px;\n  margin-right: 8px;\n  height: 25px;\n  border-right-color: #c4c4c4;\n}\n.ProseMirror-menu-dropdown-wrap {\n  padding: 0 0 0 4px;\n}\n.ProseMirror-menu-dropdown-wrap .ProseMirror-menu-dropdown {\n  height: 25px;\n  line-height: 25px;\n  display: flex;\n  align-items: center;\n}\n.ProseMirror-menu-dropdown-wrap .ProseMirror-menu-dropdown-menu {\n  max-height: 270px;\n  padding: 0;\n  overflow-y: auto;\n  background-color: #fff;\n  border: 1px solid #ebeef5;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n.ProseMirror-menu-dropdown-wrap .ProseMirror-menu-dropdown-item {\n  padding: 6px 8px 6px 8px;\n}\n.ProseMirror-menu-dropdown-wrap svg {\n  width: 20px;\n  height: 20px;\n  vertical-align: text-top;\n}\n.ProseMirror[contenteditable="true"].resize-cursor {\n  cursor: ew-resize;\n  cursor: col-resize;\n}\n.ProseMirror[contenteditable="true"] .tableWrapper {\n  overflow-x: auto;\n  border-collapse: collapse;\n  table-layout: fixed;\n  width: 100%;\n  overflow: hidden;\n  /* Give selected cells a blue overlay */\n}\n.ProseMirror[contenteditable="true"] .tableWrapper .column-resize-handle {\n  position: absolute;\n  right: -2px;\n  top: 0;\n  bottom: 0;\n  width: 4px;\n  z-index: 20;\n  background-color: #adf;\n  pointer-events: none;\n}\n.ProseMirror[contenteditable="true"] .tableWrapper .selectedCell:after {\n  z-index: 2;\n  position: absolute;\n  content: "";\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(200, 200, 255, 0.4);\n  pointer-events: none;\n}\n.ProseMirror[contenteditable="true"] .tableWrapper table {\n  display: table;\n  table-layout: fixed;\n  border-collapse: collapse;\n}\n.ProseMirror[contenteditable="true"] .tableWrapper table td,\n.ProseMirror[contenteditable="true"] .tableWrapper table th {\n  vertical-align: top;\n  box-sizing: border-box;\n  position: relative;\n  border: 1px solid #ebeef5;\n}\n.ProseMirror[contenteditable="true"] .tableWrapper table th {\n  font-weight: bold;\n  text-align: left;\n  background-color: #f5f7fa;\n}\n.ProseMirror blockquote {\n  padding-left: 1em;\n  border-left: 3px solid #eee;\n  margin-left: 0;\n  margin-right: 0;\n}\n.zeditor-prompt {\n  min-width: 400px;\n  background: white;\n  padding: 5px 10px 5px 15px;\n  border: 1px solid silver;\n  position: fixed;\n  border-radius: 3px;\n  font-size: 16px;\n  z-index: 11;\n  box-shadow: -0.5px 2px 5px rgba(0, 0, 0, 0.2);\n}\n.zeditor-prompt h5 {\n  padding: 12px 12px 10px;\n  margin: 0;\n  font-weight: normal;\n  font-size: 100%;\n  color: #444;\n}\n.zeditor-prompt__body {\n  padding: 0 12px;\n}\n.zeditor-prompt__control {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n}\n.zeditor-prompt__control input,\n.zeditor-prompt__control select,\n.zeditor-prompt__control textarea {\n  flex: 1;\n}\n.zeditor-prompt__control__label {\n  flex: 80px 0 0;\n  font-size: 14px;\n  color: #606266;\n  line-height: 40px;\n  padding: 0 12px 0 0;\n  box-sizing: border-box;\n}\n.zeditor-prompt input[type="text"],\n.zeditor-prompt textarea {\n  margin-top: 4px;\n  -webkit-appearance: none;\n  background-color: #fff;\n  background-image: none;\n  border-radius: 4px;\n  border: 1px solid #dcdfe6;\n  box-sizing: border-box;\n  color: #606266;\n  display: inline-block;\n  font-size: 14px;\n  height: 40px;\n  line-height: 40px;\n  outline: none;\n  padding: 0 15px;\n  transition: border-color 0.2s cubic-bezier(0.645, 0.045, 0.355, 1);\n  width: 100%;\n  text-indent: 4px;\n}\n.zeditor-prompt input[type="text"] {\n  padding: 0 4px;\n}\n.zeditor-prompt__close {\n  position: absolute;\n  left: 2px;\n  top: 1px;\n  color: #666;\n  border: none;\n  background: transparent;\n  padding: 0;\n}\n.zeditor-prompt__close:after {\n  content: "✕";\n  font-size: 12px;\n}\n.zeditor-prompt__invalid {\n  background: #ffc;\n  border: 1px solid #cc7;\n  border-radius: 4px;\n  padding: 5px 10px;\n  position: absolute;\n  min-width: 10em;\n}\n.zeditor-prompt__buttons {\n  margin-top: 5px;\n  padding: 8px 12px;\n  text-align: right;\n}\n.zeditor-prompt__btn {\n  display: inline-block;\n  line-height: 1;\n  white-space: nowrap;\n  cursor: pointer;\n  background: #fff;\n  border: 1px solid #dcdfe6;\n  color: #606266;\n  -webkit-appearance: none;\n  text-align: center;\n  box-sizing: border-box;\n  outline: none;\n  margin: 0;\n  transition: 0.1s;\n  font-weight: 500;\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  padding: 8px 16px;\n  font-size: 14px;\n  border-radius: 4px;\n}\n.zeditor-prompt__btn.zeditor-prompt__btn--primary {\n  color: #fff;\n  background-color: #409eff;\n  border-color: #409eff;\n}\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n.zeditor-colorpicker {\n  position: absolute;\n  top: -1000px;\n  z-index: 10;\n  background: #fff;\n  color: #999;\n  padding: 8px 12px;\n  font-size: 13px;\n  border-radius: 4px;\n  box-shadow: rgba(0, 0, 0, 0.15) 0px 1px 2px 1px, #333333 0px 0px 0px 0px;\n  border: 1px solid #c4c4c4;\n}\n.zeditor-colorpicker__colors {\n  width: 140px;\n  margin-top: 8px;\n}\n.zeditor-colorpicker__color {\n  width: 24px;\n  height: 24px;\n  margin: 4px 4px 0 0;\n  display: inline-block;\n  border: 1px solid #eee;\n  border-radius: 2px;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.zeditor-colorpicker__color:hover {\n  border-color: #1f89e5;\n}\n.zeditor-colorpicker__clear {\n  width: 100%;\n  padding: 4px 0;\n  text-align: center;\n  border: 1px solid #eee;\n  border-radius: 4px;\n  cursor: pointer;\n  user-select: none;\n}\n.zeditor-colorpicker__clear:hover {\n  border-color: #1f89e5;\n}\n.ProseMirror pre > code {\n  background-color: #eee;\n  border: 1px solid #999;\n  display: block;\n  padding: 20px;\n}\ntextarea {\n  width: 100%;\n  border: 1px solid #c4c4c4;\n  min-height: 100px;\n  padding: 4px;\n}\n.left,\n.right {\n  width: 50%;\n  float: left;\n}\n.full {\n  max-width: 50em;\n}\n.marked {\n  background: #ff6;\n}\n',""]),e.exports=t},43:function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var a,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},44:function(e,t){e.exports=require("prosemirror-dropcursor")},45:function(e,t){e.exports=require("prosemirror-gapcursor")},6:function(e,t){e.exports=require("prosemirror-state")},9:function(e,t){e.exports=require("prosemirror-commands")}});